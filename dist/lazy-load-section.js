document.addEventListener("DOMContentLoaded",function(){const o=document.querySelectorAll('[data-element="lazy-wrapper"]');if(!o)return;const r=new IntersectionObserver(e=>{e.forEach(d=>{if(d.isIntersecting){const t=d.target,a=t.querySelectorAll("img[loading='lazy']");if(a.length===0)t.dispatchEvent(new CustomEvent("lazyImagesLoaded",{bubbles:!0}));else{let s=0;a.forEach(n=>{n.removeAttribute("loading"),n.addEventListener("load",()=>{s++,s===a.length&&t.dispatchEvent(new CustomEvent("lazyImagesLoaded",{bubbles:!0}))}),n.complete&&n.dispatchEvent(new Event("load"))})}r.unobserve(t)}})});o.forEach(e=>{r.observe(e)}),document.addEventListener("lazyImagesLoaded",e=>{e.target.classList.add("loaded")})});

document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-marquee-element='list']").forEach((e,f)=>{if(e.dataset.marqueeInitialized==="true")return;e.dataset.marqueeInitialized="true";const p=e.dataset.marqueeHover==="pause",y=e.dataset.marqueeDirection==="reverse"?"reverse":"normal",l=e.parentElement;l.style.overflow="hidden",l.style.position="relative",e.style.display="flex",e.style.flexWrap="nowrap",e.style.willChange="transform",Array.from(e.children).forEach(t=>{t.style.flex="0 0 auto",t.style.minWidth="0",t.style.boxSizing="border-box"}),Array.from(e.children).forEach(t=>{const n=t.cloneNode(!0);e.appendChild(n)}),p&&(l.addEventListener("mouseenter",()=>{e.style.animationPlayState="paused"}),l.addEventListener("mouseleave",()=>{e.style.animationPlayState="running"}));const c=new IntersectionObserver(t=>{t.forEach(n=>{if(!n.isIntersecting)return;const a=e.querySelectorAll("img[loading='lazy']");if(a.length===0)i();else{let o=function(){s++,s===a.length&&i()};var d=o;let s=0;a.forEach(r=>{r.removeAttribute("loading"),r.style.willChange="transform",r.style.transform="translate3D(0,0,0)",r.addEventListener("load",o,{once:!0}),r.complete&&r.dispatchEvent(new Event("load"))})}c.unobserve(n.target)})});c.observe(l);function u(t){const n=window.innerWidth;return n<=479&&t.dataset.marqueeSpeedMobile?parseFloat(t.dataset.marqueeSpeedMobile):n<=767&&t.dataset.marqueeSpeedLandscape?parseFloat(t.dataset.marqueeSpeedLandscape):n<=991&&t.dataset.marqueeSpeedTablet?parseFloat(t.dataset.marqueeSpeedTablet):parseFloat(t.dataset.marqueeSpeed||"40")}function i(){let t=u(e);e.style.animation="none",e.offsetWidth;const a=e.children[e.children.length/2].offsetLeft,d=`marquee-scroll-${f}-${a}-${t}`,s=document.getElementById(`style-${d}`);s&&s.remove();const o=document.createElement("style");o.id=`style-${d}`,o.textContent=`
          @keyframes ${d} {
            0% { transform: translate3d(0, 0, 0); }
            100% { transform: translate3d(-${a}px, 0, 0); }
          }
        `,document.head.appendChild(o),e.style.animation=`${d} ${t}s linear infinite ${y}`}window.addEventListener("resize",()=>{e.dataset.marqueeInitialized="false",e.style.animation="none",e.offsetWidth,e.dataset.marqueeInitialized="true",i()})})});

document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-marquee-element='list']").forEach(e=>{if(e.dataset.marqueeInitialized==="true")return;e.dataset.marqueeInitialized="true";const o=e.dataset.marqueeSpeed||"40",y=e.dataset.marqueeHover==="pause",s=e.dataset.marqueeDirection==="reverse"?"reverse":"normal",a=e.parentElement;if(a.style.overflow="hidden",a.style.position="relative",e.style.display="flex",e.style.flexWrap="nowrap",e.style.willChange="transform",e.style.animation=`marquee-scroll ${o}s linear infinite ${s}`,Array.from(e.children).forEach(t=>{const r=t.cloneNode(!0);e.appendChild(r)}),y&&(a.addEventListener("mouseenter",()=>{e.style.animationPlayState="paused"}),a.addEventListener("mouseleave",()=>{e.style.animationPlayState="running"})),!document.getElementById("marquee-style")){const t=document.createElement("style");t.id="marquee-style",t.innerHTML=`
          @keyframes marquee-scroll {
            0%   { transform: translateX(0); }
            100% { transform: translateX(-50%); }
          }
        `,document.head.appendChild(t)}const d=new IntersectionObserver(t=>{t.forEach(r=>{if(!r.isIntersecting)return;const l=e.querySelectorAll("img[loading='lazy']");if(l.length===0)i();else{let f=function(){c++,c===l.length&&i()};var m=f;let c=0;l.forEach(n=>{n.removeAttribute("loading"),n.style.willChange="transform",n.style.transform="translate3D(0,0,0)",n.addEventListener("load",f,{once:!0}),n.complete&&n.dispatchEvent(new Event("load"))})}d.unobserve(r.target)})});d.observe(a);function i(){e.style.animation="none",e.offsetWidth,e.style.animation=`marquee-scroll ${o}s linear infinite ${s}`}})});

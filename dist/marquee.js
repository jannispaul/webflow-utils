document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-marquee-element='list']").forEach(e=>{const r=e.dataset.marqueeSpeed||"40",y=e.dataset.marqueeHover==="pause",s=e.dataset.marqueeDirection==="reverse"?"reverse":"normal",a=e.parentElement;if(a.style.overflow="hidden",a.style.position="relative",e.style.display="flex",e.style.flexWrap="nowrap",e.style.willChange="transform",e.style.animation=`marquee-scroll ${r}s linear infinite ${s}`,Array.from(e.children).forEach(n=>{const o=n.cloneNode(!0);e.appendChild(o)}),y&&(a.addEventListener("mouseenter",()=>{e.style.animationPlayState="paused"}),a.addEventListener("mouseleave",()=>{e.style.animationPlayState="running"})),!document.getElementById("marquee-style")){const n=document.createElement("style");n.id="marquee-style",n.innerHTML=`
        @keyframes marquee-scroll {
          0%   { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `,document.head.appendChild(n)}const d=new IntersectionObserver(n=>{n.forEach(o=>{if(!o.isIntersecting)return;const l=e.querySelectorAll("img[loading='lazy']");if(l.length===0)i();else{let f=function(){c++,c===l.length&&i()};var p=f;let c=0;l.forEach(t=>{t.removeAttribute("loading"),t.style.willChange="transform",t.style.transform="translate3D(0,0,0)",t.addEventListener("load",f,{once:!0}),t.complete&&t.dispatchEvent(new Event("load"))})}d.unobserve(o.target)})});d.observe(a);function i(){e.style.animation="none",e.offsetWidth,e.style.animation=`marquee-scroll ${r}s linear infinite ${s}`}})});

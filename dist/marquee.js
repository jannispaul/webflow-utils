document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-marquee-element='list']").forEach((e,f)=>{if(e.dataset.marqueeInitialized==="true")return;e.dataset.marqueeInitialized="true";const p=e.dataset.marqueeHover==="pause",y=e.dataset.marqueeDirection==="reverse"?"reverse":"normal",r=e.parentElement;r.style.overflow="hidden",r.style.position="relative",e.style.display="flex",e.style.flexWrap="nowrap",e.style.willChange="transform",Array.from(e.children).forEach(t=>{t.style.flex="0 0 auto",t.style.minWidth="0",t.style.boxSizing="border-box"}),Array.from(e.children).forEach(t=>{const n=t.cloneNode(!0);e.appendChild(n)}),p&&(r.addEventListener("mouseenter",()=>{e.style.animationPlayState="paused"}),r.addEventListener("mouseleave",()=>{e.style.animationPlayState="running"}));const c=new IntersectionObserver(t=>{t.forEach(n=>{if(!n.isIntersecting)return;const l=e.querySelectorAll("img[loading='lazy']");if(l.length===0)i();else{let a=function(){s++,s===l.length&&i()};var d=a;let s=0;l.forEach(o=>{o.removeAttribute("loading"),o.style.willChange="transform",o.style.transform="translate3D(0,0,0)",o.addEventListener("load",a,{once:!0}),o.complete&&o.dispatchEvent(new Event("load"))})}c.unobserve(n.target)})});c.observe(r);function u(t){const n=window.innerWidth;return n<=479&&t.dataset.marqueeSpeedMobile?parseFloat(t.dataset.marqueeSpeedMobile):n<=767&&t.dataset.marqueeSpeedLandscape?parseFloat(t.dataset.marqueeSpeedLandscape):n<=991&&t.dataset.marqueeSpeedTablet?parseFloat(t.dataset.marqueeSpeedTablet):parseFloat(t.dataset.marqueeSpeed||"40")}function i(){let t=u(e);e.style.animation="none",e.offsetWidth;const l=e.children[e.children.length/2].offsetLeft,d=`marquee-scroll-px-${f}-${t}`,s=document.getElementById(`style-${d}`);s&&s.remove();const a=document.createElement("style");a.id=`style-${d}`,a.textContent=`
          @keyframes ${d} {
            0% { transform: translateX(0); }
            100% { transform: translateX(-${l}px); }
          }
        `,document.head.appendChild(a),e.style.animation=`${d} ${t}s linear infinite ${y}`}window.addEventListener("resize",()=>{e.dataset.marqueeInitialized="false",e.style.animation="none",e.offsetWidth,e.dataset.marqueeInitialized="true",i()})})});

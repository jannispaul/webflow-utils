document.addEventListener("DOMContentLoaded",function(){let i=[].slice.call(document.querySelectorAll("video:has(source[data-src])")),a,o=768;function n(){return window.matchMedia(`(max-width:${o}px)`).matches}if(a=n(),"IntersectionObserver"in window){let e=new IntersectionObserver((t,c)=>{t.forEach(r=>{r.isIntersecting&&(r.target.hasAttribute("loaded")||s(r.target),r.target.hasAttribute("replay")?r.target.currentTime=0:e.unobserve(r.target))})});if(!i)return;i.forEach(function(t){e.observe(t)})}function s(e){for(let t of e.children)t.tagName==="SOURCE"&&(t.src=a&&t.dataset.srcMobile?t.dataset.srcMobile:t.dataset.src);e.load(),e.setAttribute("loaded",!0)}window.addEventListener("resize",()=>{if(a!==n())a=n();else return;i.forEach(function(e){e.hasAttribute("loaded")&&s(e)})})});
